webpackJsonp([3],{GDFz:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("woOf"),n=a.n(i),s={inject:["reload"],data:function(){return{mgeActVis:!1,edit:!1,activity:""}},created:function(){this.getStudentList()},methods:{handleClick:function(t){console.log(t)},getStudentList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$store.state.student.pageNum;this.$route.query.id?this.$api.getGroupAct({id:this.$route.query.id,page:{pageNum:e,pageSize:9,showAll:!0}}).then(function(a){t.$store.dispatch("pushActivity",{name:"activity",num:e,data:a.data})}):this.$api.getAllUser({pageNum:e,pageSize:9,showAll:!0}).then(function(a){t.$store.dispatch("pushStudent",{name:"student",num:e,data:a.data})})},manageActivity:function(t,e){var a=this;this.mgeActVis=!0,t?(a.activity=n()({},e),a.edit=!0):(a.activity=n()({},a.$store.getters.getActivityPrototype),a.edit=!1)},deleteActivity:function(){var t=this;this.$confirm("确定真的要删除该活动吗, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$api.delActivity(t.activity.activityId).then(function(e){var a=e.success;e.errCode,e.errMsg;a?(t.$message({type:"success",message:"删除成功!"}),t.reload()):t.$message({type:"error",message:"删除失败，请重试!"})}).catch(function(e){console.log(e),t.$message({type:"error",message:"无法连接到服务器!"})})}).catch(function(){})}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"block"},[a("span",{staticClass:"demonstration"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:this.$store.getters.getStudentList}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{prop:"userIcon",label:"用户头像",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{staticStyle:{width:"36px",height:"36px"},attrs:{src:t.row.userIcon,alt:""}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"stuName",label:"姓名",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"gender",label:"性别",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"stuId",label:"学号",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"className",label:"班级"}}),t._v(" "),a("el-table-column",{attrs:{prop:"tellNum",label:"电话号码"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleClick(e.row)}}},[t._v("查看")]),t._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.manageActivity(!0,e.row)}}},[t._v("编辑")])]}}])})],1)],1),t._v(" "),a("div",{staticStyle:{position:"absolute",bottom:"20px",left:"45%"}},[a("el-pagination",{attrs:{"hide-on-single-page":!0,layout:"prev, pager, next","current-page":Number(t.$store.state.student.pageNum),total:this.$store.state.student.data.total},on:{"current-change":t.getStudentList}})],1)])},staticRenderFns:[]},o=a("VU/8")(s,l,!1,null,null,null);e.default=o.exports}});
//# sourceMappingURL=3.2a9728c364c42f20b84e.js.map