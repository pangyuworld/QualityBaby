webpackJsonp([4],{GDFz:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("woOf"),n=i.n(s),a={inject:["reload"],data:function(){return{mgeActVis:!1,edit:!1,bigImg:{isShow:!1,img:""},activity:""}},mounted:function(){this.getStudentList()},methods:{handleClick:function(t){console.log(t)},showBigImg:function(t){this.bigImg.img=t,this.bigImg.isShow=!this.bigImg.isShow},getStudentList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$store.state.student.pageNum;this.$route.query.aid?this.$api.getUserByAct({id:this.$route.query.aid,page:{pageNum:e,pageSize:8,showAll:!0}}).then(function(i){t.$store.dispatch("pushStudent",{name:"student",num:e,data:i.data})}):this.$api.getAllUser({pageNum:e,pageSize:8,showAll:!0}).then(function(i){t.$store.dispatch("pushStudent",{name:"student",num:e,data:i.data})})},manageActivity:function(t,e){var i=this;this.mgeActVis=!0,t?(i.activity=n()({},e),i.edit=!0):(i.activity=n()({},i.$store.getters.getActivityPrototype),i.edit=!1)},deleteActivity:function(){var t=this;this.$confirm("确定真的要删除该活动吗, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$api.delActivity(t.activity.activityId).then(function(e){var i=e.success;e.errCode,e.errMsg;i?(t.$message({type:"success",message:"删除成功!"}),t.reload()):t.$message({type:"error",message:"删除失败，请重试!"})}).catch(function(e){console.log(e),t.$message({type:"error",message:"无法连接到服务器!"})})}).catch(function(){})}}},o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:!this.$route.query.uid,expression:"!this.$route.query.uid"}],staticClass:"block"},[i("span",{staticClass:"demonstration"},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:this.$store.getters.getStudentList}},[i("el-table-column",{attrs:{type:"index",width:"50"}}),t._v(" "),i("el-table-column",{attrs:{prop:"userIcon",label:"用户头像",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"demo-image"},[i("div",{staticClass:"block"},[i("el-image",{staticStyle:{width:"5vh",height:"5vh",cursor:"pointer"},attrs:{src:e.row.userIcon,alt:""},on:{click:function(i){return t.showBigImg(e.row.userIcon)},mousedown:function(t){t.preventDefault()}}})],1)])]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"stuName",label:"姓名",width:"180"}}),t._v(" "),i("el-table-column",{attrs:{prop:"gender",label:"性别",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.gender?"男":"女"))])]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"stuId",label:"学号",width:"180"}}),t._v(" "),i("el-table-column",{attrs:{prop:"className",label:"班级"}}),t._v(" "),i("el-table-column",{attrs:{prop:"tellNum",label:"电话号码"}}),t._v(" "),i("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return t.$router.push({path:"student/information",query:{uid:e.row.userId}})}}},[t._v("查看")]),t._v(" "),i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return t.handleClick(e.row)}}},[t._v("编辑")])]}}])})],1)],1),t._v(" "),i("div",{staticStyle:{position:"absolute",bottom:"20px",left:"45%"}},[i("el-pagination",{attrs:{"hide-on-single-page":!0,layout:"prev, pager, next","current-page":Number(t.$store.state.student.pageNum),total:this.$store.state.student.data.total},on:{"current-change":t.getStudentList}})],1),t._v(" "),i("el-dialog",{attrs:{visible:t.bigImg.isShow,width:"30%",center:""},on:{"update:visible":function(e){return t.$set(t.bigImg,"isShow",e)}}},[i("img",{attrs:{src:t.bigImg.img,alt:"",width:"100%",height:"100%"}})])],1)},staticRenderFns:[]},r=i("VU/8")(a,o,!1,null,null,null);e.default=r.exports}});
//# sourceMappingURL=4.b2df1e317e7be0ae9e8e.js.map